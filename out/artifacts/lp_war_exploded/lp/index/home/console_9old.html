#@busCommon()
#define css()
<style type="text/css">
    .top {
        color: #FFFFff;;
        font-family: "微软雅黑" !important;
        margin: 0px auto;
    }

    .header_center {
        background-image: url(../../../img/logoBg.png);
        text-align: center;
        background-size: 100%;
        height: 75px;
    }

    .top1 {
        padding-top: 20px;
        margin-left: 1%;
        padding-left: 20px;
    }

    .con {
        background-color: #081832;
        padding-top: 20px;
        padding-bottom: 20px;
    }

    .ztgk {
        width: 200px;
        height: 40px;
        line-height: 36px;
        background-color: #04425f;
        margin-bottom: 25px;
        margin-left: 1%;
        padding-left: 20px;
        border-radius: 1px;
        box-shadow: 0px 3px 3px #61d2f7;
        color: #25f3e6;
    }

    .ztgk i {
        width: 16px;
        height: 16px;
        display: inline-block;
        position: relative;
        background-image: url(../../../img/nav_7.png);
        background-repeat: no-repeat;
        margin-right: 6px;
        top: 1px;
    }

    .con_div {
        background-color: #034c6a;
        margin-right: 1.3%;
        height: 120px;
        margin-left: 1%;
    }

    .text01_img {
        width: 40px;
        height: 40px;
        margin-left: 5%;
        margin-top: 35px;
    }

    .text01_div {
        margin-top: 15px;
        margin-left: 2%;
        padding-left: 20%;
    }

    .left_div_any01 {
        margin-right: 2%;
    }

    .div_any_child {
        height: 280px;
        border: 1px solid #034c6a;
        box-sizing: border-box;
        position: relative;
        margin-top: 25px;
        box-shadow: -10px 0px 15px #034c6a inset, /*å·¦è¾¹é˜´å½±*/ 0px -10px 15px #034c6a inset, /*ä¸Šè¾¹é˜´å½±*/ 10px 0px 15px #034c6a inset, /*å³è¾¹é˜´å½±*/ 0px 10px 15px #034c6a inset;
    }

    .div_any_title {
        background-color: #034c6a;
        border-radius: 18px;
        position: absolute;
        height: 35px;
        width: 60%;
        top: -15px;
        color: #ffffff;
        font-weight: bold;
        font-size: 16px;
        left: 20%;
        line-height: 35px;
        text-align: center;
    }

    .table_p table {
        width: 100%;
        height: 100%;
        border-collapse: collapse;
        position: absolute;
        text-align: center;
    }

    .table_p table thead th {
        color: #61d2f7;
        font-size: 14px;
        font-weight: 600;
        padding-top: 5px;
        padding-bottom: 5px;
        margin: 0;
        padding: 0;
        list-style: none;
        text-decoration: none
    }

    .table_p table {
        color: white;
        margin-top: 7%;
        width: 100%;
        height: 85%;
        border-collapse: collapse;
        position: absolute;
        text-align: center;
        display: table;
        border-spacing: 2px;
        border-color: grey;
    }

    .table_p table tbody tr:nth-child(2n+1) {
        background-color: #072951;
        box-shadow: -10px 0px 15px #034c6a inset, 10px 0px 15px #034c6a inset;
    }

    .nav > ul > li {
        display: inline-block;
        width: 120px;
        text-align: center;
        height: 50px;
        position: relative;
        line-height: 50px;
        margin-top: 15px;
        box-sizing: border-box;
        border-radius: 5px;
    }

    .nav_active {
        cursor: pointer;
        border-bottom: 4px solid #4b8df8;
        box-shadow: -10px 0px 15px #034c6a inset, /*Ã¥Â·Â¦Ã¨Â¾Â¹Ã©ËœÂ´Ã¥Â½Â±*/ 0px -10px 15px #034c6a inset, /*Ã¤Â¸Å Ã¨Â¾Â¹Ã©ËœÂ´Ã¥Â½Â±*/ 10px 0px 15px #034c6a inset, /*Ã¥ÂÂ³Ã¨Â¾Â¹Ã©ËœÂ´Ã¥Â½Â±*/ 0px 10px 15px #034c6a inset;
    }

    .nav_active1 {
        cursor: pointer;
        box-shadow: -10px 0px 15px #034c6a inset, /*Ã¥Â·Â¦Ã¨Â¾Â¹Ã©ËœÂ´Ã¥Â½Â±*/ 0px -10px 15px #034c6a inset, /*Ã¤Â¸Å Ã¨Â¾Â¹Ã©ËœÂ´Ã¥Â½Â±*/ 10px 0px 15px #034c6a inset, /*Ã¥ÂÂ³Ã¨Â¾Â¹Ã©ËœÂ´Ã¥Â½Â±*/ 0px 10px 15px #034c6a inset;
    }

    .nav > ul > li i {
        width: 16px;
        height: 16px;
        display: inline-block;
        position: relative;
        top: 3px;
        margin-right: 5px;
    }

    .nav_1 {
        background-image: url(../../../img/nav_1.png);
    }

    .nav > ul > li > a {
        color: #ffffff;
        font-size: 14px;
    }
</style>
#end
#define main()
<div class="content-box">
    <div class="layui-row" style="background-color: #030829;">
        <div class="layui-col-md12">
            <div class="layui-col-md3">
                <div class="nav">
                    <ul>
                        <li class="nav_active">
                            <i class="nav_1"></i>
                            <a>数据概览</a>
                        </li>
                        <li class="">

                            <i style="background-image: url(../../../img/111_03.png)"></i>
                            <a href="car/atlas">地图界面</a>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="layui-col-md6 top">
                <div class="header_center">
                    <p style="font-size: 18px;height: 20px;text-align: center;line-height: 50px;">校园车队管理视图</p>
                    <p style="font-size: 10px;height: 20px;text-align: center;line-height: 50px;">Campus fleet
                        management view</p>
                </div>
            </div>
            <div class="layui-col-md3">
                <div class="nav" style="float: right">
                    <ul>
                        <li class="">
                            <i style="background-image: url(../../../img/222_03.png)"></i>
                            <a href="car/carStatistics">查询统计</a>
                        </li>
                        <li class="">
                            <i style="background-image: url(../../../img/333_03.png)"></i>
                            <a onclick="fullscreen()">全屏</a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
    <div class="layui-col-md12 con">
        <div class="layui-col-md12 " style="margin-bottom: 25px">
            <div class="layui-col-md4 ">
                <div class="grid-demo grid-demo-bg1 con_div">
                    <div class="layui-col-md1" style="margin-left: 2%">
                        <img src="../../../img/info_1.png" class="text01_img">
                    </div>
                    <div class="layui-col-md4" style="margin-top: 10px">
                        <div class="text01_div">
                            <p style="font-size: 13px;color: #ffffff;">车辆总数（辆）</p>
                            <p style="margin-top: 10%;    font-size: 28px;color: #ffff43;font-weight: 600;">
                                #(carInfo.carCount1)</p>
                        </div>
                    </div>
                    <div class="layui-col-md1">
                        <img src="../../../img/info_2.png" class="text01_img">
                    </div>
                    <div class="layui-col-md4" style="margin-top: 25px;margin-left: 35px">
                        <p style="font-size: 13px;color: #ffffff;">车辆使用数（辆）</p>
                        <p style="margin-top: 10%;    font-size: 28px;color: #ffff43;font-weight: 600;">
                            #(carInfo.carCount2)</p>
                    </div>
                </div>
            </div>
            <div class="layui-col-md4 ">
                <div class="grid-demo grid-demo-bg1 con_div">
                    <div class="layui-col-md1" style="margin-left: 2%">
                        <img src="../../../img/info_4.png" class="text01_img">
                    </div>
                    <div class="layui-col-md4" style="margin-top: 10px">
                        <div class="text01_div">
                            <p style="font-size: 13px;color: #ffffff;">行驶里程总数（km）</p>
                            <p style="margin-top: 10%;    font-size: 28px;color: #25f3e6;font-weight: 600;">123456</p>
                        </div>
                    </div>
                    <div class="layui-col-md1">
                        <img src="../../../img/info_5.png" class="text01_img">
                    </div>
                    <div class="layui-col-md4" style="margin-top: 25px;margin-left: 35px">
                        <p style="font-size: 13px;color: #ffffff;">行驶里程平均数（km）</p>
                        <p style="margin-top: 10%;    font-size: 28px;color: #25f3e6 ;font-weight: 600;">123456</p>
                    </div>
                </div>
            </div>
            <div class="layui-col-md4 ">
                <div class="grid-demo grid-demo-bg1 con_div">
                    <div class="layui-col-md1" style="margin-left: 2%">
                        <img src="../../../img/info_6.png" class="text01_img">
                    </div>
                    <div class="layui-col-md4" style="margin-top: 10px">
                        <div class="text01_div">
                            <p style="font-size: 13px;color: #ffffff;">行驶时长总数（s）</p>
                            <p style="margin-top: 10%;    font-size: 28px;color: #ff4e4e;font-weight: 600;">123456</p>
                        </div>
                    </div>
                    <div class="layui-col-md1">
                        <img src="../../../img/info_7.png" class="text01_img">
                    </div>
                    <div class="layui-col-md4" style="margin-top: 25px;margin-left: 35px">
                        <p style="font-size: 13px;color: #ffffff;">行驶时长平均数（s）</p>
                        <p style="margin-top: 10%;    font-size: 28px;color: #ff4e4e;font-weight: 600;">123456</p>
                    </div>
                </div>
            </div>
        </div>
        <div class="layui-col-md12 div_any">
            <div class="layui-col-md3">
                <div class="grid-demo grid-demo-bg1 ">
                    <div class="left_div_any01">
                        <div class="div_any_child">
                            <div class="div_any_title">
                                <img src="../../../img/title_1.png">
                                车辆类型统计
                            </div>
                            <div id="container" style="height: 100%;width: 100%; "></div>
                        </div>
                    </div>
                </div>
                <div class="grid-demo grid-demo-bg1 ">
                    <div class="left_div_any01">
                        <div class="div_any_child">
                            <div class="div_any_title">
                                <img src="../../../img/title_2.png">
                                车辆状态统计
                            </div>
                            <div id="container1" style="height: 80%;width: 100%; margin-top: 10%"></div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="layui-col-md6">
                <div class="grid-demo grid-demo-bg1 ">
                    <div class="left_div_any01">
                        <div class="div_any_child" style="height: 585px">
                            <div id="map_div" style="width: 100%;height: 100%"></div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="layui-col-md3">
                <div class="grid-demo grid-demo-bg1 ">
                    <div class="left_div_any01">
                        <div class="div_any_child">
                            <div class="div_any_title">
                                <img src="../../../img/title_4.png">车辆行驶次数统计
                            </div>
                            <div id="container2" style="height: 100%;width: 100%;margin-left: 3%"></div>
                        </div>
                    </div>
                </div>
                <div class="grid-demo grid-demo-bg1 ">
                    <div class="left_div_any01">
                        <div class="div_any_child">
                            <div class="div_any_title">
                                <img src="../../../img/title_5.png">车辆报警统计
                            </div>
                            <div id="container3" style="height: 100%;width: 100%;margin-left: 3%">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="layui-col-md12 con">
        <div class="layui-col-md12 " style="margin-bottom: 25px">
            <div class="layui-col-md3">
                <div class="grid-demo grid-demo-bg1 ">
                    <div class="left_div_any01">
                        <div class="div_any_child">
                            <div class="div_any_title">
                                <img src="../../../img/title_4.png">
                                行驶里程排行榜前五名
                            </div>
                            <div class="table_p">
                                <table>
                                    <thead>
                                    <tr>
                                        <th>排名</th>
                                        <th>车牌号</th>
                                        <th>里程数（km）</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr>
                                        <td>1</td>
                                        <td>川A123123</td>
                                        <td>123</td>
                                    </tr>
                                    <tr>
                                        <td>1</td>
                                        <td>川A123123</td>
                                        <td>123</td>
                                    </tr>
                                    <tr>
                                        <td>1</td>
                                        <td>川A123123</td>
                                        <td>123</td>
                                    </tr>
                                    <tr>
                                        <td>1</td>
                                        <td>川A123123</td>
                                        <td>123</td>
                                    </tr>
                                    <tr>
                                        <td>1</td>
                                        <td>川A123123</td>
                                        <td>123</td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="layui-col-md3">
                <div class="grid-demo grid-demo-bg1 ">
                    <div class="left_div_any01">
                        <div class="div_any_child">
                            <div class="div_any_title">
                                <img src="../../../img/title_4.png">
                                行驶次数车辆前五名
                            </div>
                            <div class="table_p">
                                <table>
                                    <thead>
                                    <tr>
                                        <th>排名</th>
                                        <th>车牌号</th>
                                        <th>里程数（km）</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr>
                                        <td>1</td>
                                        <td>川A123123</td>
                                        <td>123</td>
                                    </tr>
                                    <tr>
                                        <td>1</td>
                                        <td>川A123123</td>
                                        <td>123</td>
                                    </tr>
                                    <tr>
                                        <td>1</td>
                                        <td>川A123123</td>
                                        <td>123</td>
                                    </tr>
                                    <tr>
                                        <td>1</td>
                                        <td>川A123123</td>
                                        <td>123</td>
                                    </tr>
                                    <tr>
                                        <td>1</td>
                                        <td>川A123123</td>
                                        <td>123</td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="layui-col-md3">
                <div class="grid-demo grid-demo-bg1 ">
                    <div class="left_div_any01">
                        <div class="div_any_child">
                            <div class="div_any_title">
                                <img src="../../../img/title_4.png">
                                行驶最高时速前五位
                            </div>
                            <div class="table_p">
                                <table>
                                    <thead>
                                    <tr>
                                        <th>排名</th>
                                        <th>车牌号</th>
                                        <th>里程数（km）</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr>
                                        <td>1</td>
                                        <td>川A123123</td>
                                        <td>123</td>
                                    </tr>
                                    <tr>
                                        <td>1</td>
                                        <td>川A123123</td>
                                        <td>123</td>
                                    </tr>
                                    <tr>
                                        <td>1</td>
                                        <td>川A123123</td>
                                        <td>123</td>
                                    </tr>
                                    <tr>
                                        <td>1</td>
                                        <td>川A123123</td>
                                        <td>123</td>
                                    </tr>
                                    <tr>
                                        <td>1</td>
                                        <td>川A123123</td>
                                        <td>123</td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="layui-col-md3">
                <div class="grid-demo grid-demo-bg1 ">
                    <div class="left_div_any01">
                        <div class="div_any_child">
                            <div class="div_any_title">
                                <img src="../../../img/title_4.png">
                                行驶时长排名前五位
                            </div>
                            <div class="table_p">
                                <table>
                                    <thead>
                                    <tr>
                                        <th>排名</th>
                                        <th>车牌号</th>
                                        <th>里程数（km）</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr>
                                        <td>1</td>
                                        <td>川A123123</td>
                                        <td>123</td>
                                    </tr>
                                    <tr>
                                        <td>1</td>
                                        <td>川A123123</td>
                                        <td>123</td>
                                    </tr>
                                    <tr>
                                        <td>1</td>
                                        <td>川A123123</td>
                                        <td>123</td>
                                    </tr>
                                    <tr>
                                        <td>1</td>
                                        <td>川A123123</td>
                                        <td>123</td>
                                    </tr>
                                    <tr>
                                        <td>1</td>
                                        <td>川A123123</td>
                                        <td>123</td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script charset="utf-8" src="https://map.qq.com/api/js?v=2.exp"></script>
<!--
    腾讯地图API
-->
<script>
    function init() {
        var map = new qq.maps.Map(document.getElementById("map_div"), {
            // 地图的中心地理坐标。
            center: new qq.maps.LatLng(30.653310, 104.077750),      // 地图的中心地理坐标。
            zoom: 12
        });
    }
</script>
<script type="text/javascript">
    $(function () {
        init()
        var data = getData();
        var container2 = echarts.init(document.getElementById('container2'));
        container2.setOption(containerOption2(), true);
        var container3 = echarts.init(document.getElementById('container3'));
        container3.setOption(containerOption3(), true);
    });

    function getData() {
        $.ajax({
            type: 'post',
            url: 'car/carViewData',
            success: function (res) {
                var data1 = "";
                var nameArr1 = new Array();
                var dataStart2 = new Array();
                var dataStop2 = new Array();
                var nameArr2 = new Array();
                if (res.optionData1.length != 0) {
                    data1 = "[";
                    $.each(res.optionData1, function (index, value) {
                        data1 += "{value:" + value.count + ",name:'" + value.type_name + "'}";
                        nameArr1.push(value.type_name)
                        if (index != (res.optionData1.length - 1)) {
                            data1 += ",";
                        } else {
                            data1 += "]";
                        }
                    });
                }
                if (res.optionData2.length != 0) {
                    $.each(res.optionData2, function (index, value) {
                        dataStart2.push(value.count1)
                        dataStop2.push(value.count2)
                        nameArr2.push(value.type_name)
                    });
                }
                var container = echarts.init(document.getElementById('container'));
                container.setOption(containerOption(nameArr1, data1), true);
                var container1 = echarts.init(document.getElementById('container1'));
                container1.setOption(containerOption1(nameArr2, dataStart2, dataStop2), true);
            }, error: function () {
                windowNewLocation('error');
            }
        })
    }

    function containerOption(nameArr1, data1) {
        var option = {
            title: {
                x: 'center'
            },
            tooltip: {
                trigger: 'item',
                formatter: "{a} <br/>{b} : {c} ({d}%)"
            },
            legend: {
                type: 'scroll',
                orient: 'vertical',
                right: 10,
                top: 20,
                bottom: 20,
                data: nameArr1
                , textStyle: {
                    color: '#fff'
                }
            },
            series: [
                {
                    name: '车辆类型',
                    type: 'pie',
                    radius: '44%',
                    center: ['35%', '50%'],
                    data: eval(data1),
                    itemStyle: {
                        emphasis: {
                            shadowBlur: 10,
                            shadowOffsetX: 0,
                            shadowColor: 'rgba(0, 0, 0, 0.5)'
                        }
                    }
                }
            ]
        };
        return option;
    }

    function containerOption1(name, dataStart2, dataStop2) {
        option = {
            tooltip: {
                trigger: 'axis',
                axisPointer: {            // 坐标轴指示器，坐标轴触发有效
                    type: 'shadow'        // 默认为直线，可选为：'line' | 'shadow'
                }
            },
            textStyle: {
                color: '#fff'
            },
            legend: {
                data: ['启用', '停用']
                , textStyle: {
                    color: '#fff'
                }
            },
            grid: {
                left: '5%',
                right: '5%',
                bottom: '5%',
                containLabel: true
            },
            xAxis: {
                type: 'value'
            },
            yAxis: {
                type: 'category',
                data: name
            },
            series: [
                {
                    name: '启用',
                    type: 'bar',
                    stack: '总量',
                    label: {
                        normal: {
                            show: true,
                            position: 'insideRight'
                        }
                    },
                    data: dataStart2
                },
                {
                    name: '停用',
                    type: 'bar',
                    stack: '总量',
                    label: {
                        normal: {
                            show: true,
                            position: 'insideRight'
                        }
                    },
                    data: dataStop2
                }
            ]
        };
        return option;
    }

    function containerOption2() {
        option = {
            tooltip: {
                trigger: 'axis',
                axisPointer: {
                    type: 'shadow'
                }
            },
            xAxis: {
                type: 'category',
                data: ["教职工班车", "396路公交车", "学生班车", "B120接驳车"]
            },
            yAxis: {
                type: 'value'
            }, textStyle: {
                color: '#fff'
            },
            series: [{
                data: [120, 200, 80, 70],
                type: 'bar'
            }]
        };
        return option;
    }

    function containerOption3() {
        option = {
            tooltip: {
                trigger: 'axis',
                axisPointer: {
                    type: 'shadow'
                }
            },
            xAxis: {
                type: 'category',
                data: ["教职工班车", "396路公交车", "学生班车", "B120接驳车"]
            },
            yAxis: {
                type: 'value'
            }, textStyle: {
                color: '#fff'
            },
            series: [{
                data: [120, 200, 80, 70],
                type: 'bar'
            }]
        };
        return option;
    }

    $(".nav > ul > li").hover(function () {
        $(this).addClass("nav_active1");
    }, function () {
        $(this).removeClass("nav_active1")
    });

    function fullscreen() {
        var docElm = document.documentElement;
        //W3C
        if (docElm.requestFullscreen) {
            docElm.requestFullscreen();
        }
        //FireFox
        else if (docElm.mozRequestFullScreen) {
            docElm.mozRequestFullScreen();
        }
        //Chrome等
        else if (docElm.webkitRequestFullScreen) {
            docElm.webkitRequestFullScreen();
        }
        //IE11
        else if (elem.msRequestFullscreen) {
            elem.msRequestFullscreen();
        } else {
            alert("非常抱歉，当前浏览器不支持全屏功能");
        }
    }

    var exitFullscreen = function () {
        var elem = document;
        if (elem.webkitCancelFullScreen) {
            elem.webkitCancelFullScreen();
        } else if (elem.mozCancelFullScreen) {
            elem.mozCancelFullScreen();
        } else if (elem.cancelFullScreen) {
            elem.cancelFullScreen();
        } else if (elem.exitFullscreen) {
            elem.exitFullscreen();
        } else {
            //浏览器不支持全屏API或已被禁用
        }
    }
</script>

#end