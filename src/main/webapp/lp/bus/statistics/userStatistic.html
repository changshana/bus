#@busCommon()
#define main()
#define css()
<link href="lp/bus/css/userStatistic.css" media="all" rel="stylesheet"/>
#end
<div class="main">
    <div class="content">
        <div class="top">
            <div class="top-item">
                <p class="title">概览</p>
                <div class="btn-gp">
                    <span class="btn" days="0">全部</span>
                    <span class="btn" days="30">近一个月</span>
                    <span class="btn" days="90">近三个月</span>
                    <span class="btn" days="180">近六个月</span>
                    <span class="btn" days="360">近一年</span>
                </div>
            </div>
            <div class="bottom-item">
                <div class="item order-num">
                    <div class="img-box">
                        <img src="lp/bus/img/order.png"/>
                        <p></p>
                    </div>
                    <div class="info">
                        <p class="info-title">订单总数</p>
                        <p class="info-value">10</p>
                    </div>
                </div>
                <div class="item mileage">
                    <div class="img-box">
                        <img src="lp/bus/img/mileage.png"/>
                        <p></p>
                    </div>
                    <div class="info">
                        <p class="info-title">里程数(km)</p>
                        <p class="info-value">1000</p>
                    </div>
                </div>
                <div class="item total-amount">
                    <div class="img-box">
                        <img src="lp/bus/img/total-amount.png"/>
                        <p></p>
                    </div>
                    <div class="info">
                        <p class="info-title">总金额(￥)</p>
                        <p class="info-value">2673.00</p>
                    </div>
                </div>
            </div>
        </div>
        <div class="middle">
            <ul class="left">
                <li class="order">
                    <p class="info icon-start">起点：四川大学江安校区</p>
                    <p class="info icon-end">终点：四川大学望江校区</p>
                    <p class="info icon-driver">驾驶员：王阳春</p>
                    <p class="info icon-vehicle">车辆：川A 6876Q</p>
                    <p class="info icon-money">总金额：156.00元</p>
                </li>
                <li class="order">
                    <p class="info icon-start">起点：四川大学江安校区</p>
                    <p class="info icon-end">终点：四川大学望江校区</p>
                    <p class="info icon-driver">驾驶员：王阳春</p>
                    <p class="info icon-vehicle">车辆：川A 6876Q</p>
                    <p class="info icon-money">总金额：156.00元</p>
                </li>
                <li class="order">
                    <p class="info icon-start">起点：四川大学江安校区</p>
                    <p class="info icon-end">终点：四川大学望江校区</p>
                    <p class="info icon-driver">驾驶员：王阳春</p>
                    <p class="info icon-vehicle">车辆：川A 6876Q</p>
                    <p class="info icon-money">总金额：156.00元</p>
                </li>
                <li class="order">
                    <p class="info icon-start">起点：四川大学江安校区</p>
                    <p class="info icon-end">终点：四川大学望江校区</p>
                    <p class="info icon-driver">驾驶员：王阳春</p>
                    <p class="info icon-vehicle">车辆：川A 6876Q</p>
                    <p class="info icon-money">总金额：156.00元</p>
                </li>
                <li class="order">
                    <p class="info icon-start">起点：四川大学江安校区</p>
                    <p class="info icon-end">终点：四川大学望江校区</p>
                    <p class="info icon-driver">驾驶员：王阳春</p>
                    <p class="info icon-vehicle">车辆：川A 6876Q</p>
                    <p class="info icon-money">总金额：156.00元</p>
                </li>
                <li class="order">
                    <p class="info icon-start">起点：四川大学江安校区</p>
                    <p class="info icon-end">终点：四川大学望江校区</p>
                    <p class="info icon-driver">驾驶员：王阳春</p>
                    <p class="info icon-vehicle">车辆：川A 6876Q</p>
                    <p class="info icon-money">总金额：156.00元</p>
                </li>
                <li class="clear"></li>
            </ul>
            <div class="right" id="chart"></div>
            <p class="clear"></p>
        </div>
    </div>
</div>
<script>
    layui.use(['layer', 'rate', 'laydate'], function () {
        let layer = layui.layer;
        let rate = layui.rate;
        let laydate = layui.laydate;
        initChart();
        $(".btn-gp .btn").bind('click', function () {
            $(".btn-gp .btn").removeClass('btn-check');
            $(this).addClass('btn-check');
            //TODO 加载数据
        });
        $(".order").click(function () {
            layer.open({
                type: 2
                , title: '详情'
                , content: 'busOrder/busOrderDetail?type=detail&order_id=' + 764
                , area: ['95%', '95%']
            });
        });
        $(".btn-gp .btn").eq(0).click();
    });

    function initChart() {
        let myChart = echarts.init(document.getElementById('chart'));
        let option = {
            color: ['#3398DB'],
            title: {
                text: '近一年每月订单数'
                ,
            },
            tooltip: {
                trigger: 'axis',
                axisPointer: {            // 坐标轴指示器，坐标轴触发有效
                    type: 'shadow'        // 默认为直线，可选为：'line' | 'shadow'
                }
            },
            grid: {
                left: '3%',
                right: '4%',
                bottom: '3%',
                containLabel: true
            },
            xAxis: [
                {
                    type: 'category',
                    data: ['2019-08', '2019-09', '2019-10', '2019-11', '2019-12', '2020-01', '2020-02', '2020-03', '2020-04', '2020-05', '2020-06', '2020-07'],
                    axisTick: {
                        alignWithLabel: true
                    }
                }
            ],
            yAxis: [
                {
                    type: 'value'
                }
            ],
            series: [
                {
                    name: '订单数',
                    type: 'bar',
                    barWidth: '30%',
                    data: [10, 9, 12, 2, 15, 3, 6, 8, 10, 5, 8, 9]
                }
            ]
        };
        myChart.setOption(option);
    }
</script>
#end
