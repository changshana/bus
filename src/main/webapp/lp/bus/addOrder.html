#@busCommon()
#define main()
#define css()
<style type="text/css">
    html, body {
        width: 100%;
        height: 100%;
        font-size: 14px;
    }

    #container {
        width: 70%;
        height: 100%;
        float: left;
    }

    * {
        margin: 0px;
        padding: 0px;
    }

    body, button, input, select, textarea {
        font: 12px/16px Verdana, Helvetica, Arial, sans-serif;
    }

    .info-out {
        width: 28%;
        height: 100%;
        overflow-y: auto;
        overflow-x: hidden;
        margin: 0 1%;
        float: left;
    }

    .info {
        width: 96%;
        margin: 0 auto;
        height: auto;
    }

    .info .search-input {
        font-size: 16px;
        width: 100%;
        height: 35px;
        margin: 10px 0;
        border: 1px solid #aaaaaa;
        border-radius: 4px;
        line-height: 35px;
        color: #333;
        text-indent: 1em;
    }

    .btn {
        font-size: 18px;
        width: 100%;
        height: 35px;
        margin: 10px 0;
        line-height: 35px;
        border-radius: 4px;
        text-align: center;
        cursor: pointer;
        display: inline-block;
    }

    .btn_yes {
        color: #FFFFFF;
        background-color: #FFB800;
        border: 1px solid #FFB800;
    }

    .btn-choose {
        color: #FFFFFF;
        background-color: #01AAED;
        border: 1px solid #01AAED;
    }

    .rout-box, .choose-box, .other-info {
        width: 100%;
        height: auto;
    }

    .vehicle-info-box {
        width: 100%;
        height: auto;
    }

    .vehicle-info-box .vehicle-img {
        width: 100%;
        height: auto;
    }

    .vehicle-info-box > p {
        font-size: 16px;
        color: #333;
        height: 35px;
        line-height: 35px;
        width: 100%;
    }

    .vehicle-info-box > p > span {
        color: #FFB800;
        display: inline-block;
        float: right;
    }

    .gap {
        border-bottom: 1px solid #bbbbbb;
        width: 96%;
        height: 0;
        margin: 8px auto;
    }

    .other-info > p {
        width: 100%;
        height: auto;
        margin: 5px auto;
    }

    .other-info > P > span {
        font-size: 16px;
        color: #333;
        width: auto;
        margin: 10px auto;
        display: inline-block;
    }

    .date-panel {
        width: 100%;
        border: 1px solid #f2f2f2;
        background-color: #f2f2f2;
        height: 35px;
        line-height: 35px;
        cursor: pointer;
        caret-color: transparent;
        text-align: center;
    }

    .textarea {
        resize: none;
        line-height: 18px;
        font-size: 15px;
        height: 120px;
    }
</style>
#end
<div class="info-out">
    <div class="info">
        <div class="rout-box">
            <input class="search-input" id="start" placeholder="请输入起点..." value=""/>
            <input class="search-input" id="endPoint" placeholder="请输入终点..." value=""/>
            <a class="btn btn_yes" id="confirm_point">确定</a>
            <div class="gap"></div>
        </div>
        <div class="other-info">
            <p>
                <span>出发时间</span>
                <input class="date-panel" id="time" readonly/>
            </p>
            <p>
                <span>备注信息</span>
                <textarea class="layui-textarea textarea" maxlength="300"></textarea>
            </p>
        </div>
        <div class="choose-box">
            <a class="btn btn-choose">点击选择车辆</a>
            <div class="vehicle-info-box">
                <img class="vehicle-img" src="lp/bus/img/vehicle.jpg"/>
                <p>车辆类型：<span>大巴车</span></p>
                <p>荷载人数：<span>45人</span></p>
                <p>车牌号：<span>川A 45V67</span></p>
                <p>基础价格：<span>￥100.00元</span></p>
            </div>
            <div class="gap"></div>
        </div>
        <div class="choose-box">
            <a class="btn btn-choose">点击选择驾驶员</a>
            <div class="vehicle-info-box">
                <!--                <img src="lp/bus/img/vehicle.jpg" class="vehicle-img" />-->
                <p>姓名：<span>驾驶员A</span></p>
                <p>联系电话：<span>12345678910</span></p>
                <p>服务星级：<span id="rate-panel">*****</span></p>
                <div class="gap"></div>
            </div>
        </div>
    </div>
</div>
<div id="container"></div>

<script charset="utf-8"
        src="https://map.qq.com/api/js?v=2.exp&key=OB4BZ-D4W3U-B7VVO-4PJWW-6TKDJ-WPB77&libraries=place,tools"></script>
<script charset="UTF-8" src="lp/bus/js/add_order_map.js"></script>
<script>
    let startPoiList = null, startIndex = null;
    let endPoiList = null, endIndex = null;
    let center, map;
    layui.use(['layer', 'rate', 'laydate'], function () {
        init();
        let layer = layui.layer;
        let rate = layui.rate;
        let laydate = layui.laydate;
        laydate.render({
            elem: "#time"
            , type: "datetime"
            , min: 0
            , format: 'yyyy-MM-dd HH:mm'
        });
        //渲染
        var ins1 = rate.render({
            elem: '#rate-panel'  //绑定元素
            , value: 5
            , readonly: true
        });
    });
    $(".btn_yes").bind('click', function () {
        if (isEmpty(startPoiList[startIndex]) || isEmpty($("#start").val())) {
            return false;
        }
        if (isEmpty(endPoiList[endIndex]) || isEmpty($("#endPoint").val())) {
            return false;
        }
        //显示线路 里程和大致时间
        displayRout();
    });
</script>
#end
